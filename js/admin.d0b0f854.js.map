{"version":3,"sources":["webpack:///./src/views/Admin.vue?afba","webpack:///./src/views/Admin.vue","webpack:///./src/views/AdminProducts.vue?1e44","webpack:///src/views/AdminProducts.vue","webpack:///./src/views/AdminProducts.vue?03a8","webpack:///./src/views/AdminProducts.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/AdminHome.vue?9087","webpack:///./src/views/AdminHome.vue","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/AdminOrders.vue?5f3c","webpack:///src/views/AdminOrders.vue","webpack:///./src/views/AdminOrders.vue?b1bb","webpack:///./src/views/AdminOrders.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","staticRenderFns","script","component","on","$event","$bvModal","show","ref","products","fields","scopedSlots","_u","key","fn","data","staticStyle","item","image","_e","_s","description","sell","editProduct","index","form","_id","length","submitDisable","submitModal","resetForm","state","name","model","value","callback","$$v","$set","expression","price","_n","computed","methods","event","preventDefault","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","$","global","has","isObject","copyConstructorProperties","NativeSymbol","Symbol","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","String","result","symbolPrototype","constructor","symbolToString","native","regexp","symbol","valueOf","string","desc","slice","replace","forced","orders","user","account","_l","product","amount"],"mappings":"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","file":"js/admin.d0b0f854.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"id\":\"admin\"}},[_c('b-row',[_c('b-col',{staticClass:\"mt-5\",attrs:{\"cols\":\"12\"}},[_c('b-nav',{attrs:{\"pills\":\"\",\"justified\":\"\"}},[_c('b-nav-item',{attrs:{\"to\":\"/admin/products\",\"exact\":\"\",\"exact-active-class\":\"active\"}},[_vm._v(\"商品管理\")]),_c('b-nav-item',{attrs:{\"to\":\"/admin/orders\",\"exact\":\"\",\"exact-active-class\":\"active\"}},[_vm._v(\"訂單管理\")])],1)],1),_c('hr'),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=c80227b4&lang=pug&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-3\",attrs:{\"id\":\"adminproducts\"}},[_c('b-btn',{staticClass:\"my-3\",attrs:{\"block\":\"\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.$bvModal.show('modal-product')}}},[_vm._v(\"新增\")]),_c('b-table',{ref:\"productTable\",attrs:{\"items\":_vm.products,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(image)\",fn:function(data){return [(data.item)?_c('img',{staticStyle:{\"height\":\"50px\"},attrs:{\"src\":data.item.image}}):_vm._e()]}},{key:\"cell(description)\",fn:function(data){return [_vm._v(_vm._s(data.item.description))]}},{key:\"cell(sell)\",fn:function(data){return [_vm._v(_vm._s(data.item.sell ? '√' : ''))]}},{key:\"cell(action)\",fn:function(data){return [_c('b-btn',{attrs:{\"variant\":\"outline-success\",\"squared\":\"\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.editProduct(data.index)}}},[_vm._v(\"編輯\")])]}}])}),_c('b-modal',{attrs:{\"id\":\"modal-product\",\"title\":_vm.form._id.length > 0 ? '編輯商品' : '新增商品',\"ok-variant\":\"success\",\"ok-title\":\"送出\",\"cancel-variant\":\"outline-danger\",\"cancel-title\":\"取消\",\"ok-disabled\":_vm.submitDisable,\"cancel-disabled\":_vm.submitDisable},on:{\"ok\":_vm.submitModal,\"hidden\":_vm.resetForm}},[_c('b-form-group',{attrs:{\"label\":\"品名\",\"label-for\":\"input-name\",\"state\":_vm.state.name,\"description\":\"品名長度限制為 1 個字以上\",\"invalid-feedback\":\"品名格式不正確\"}},[_c('b-form-input',{attrs:{\"id\":\"input-name\",\"type\":\"text\",\"required\":\"\",\"placeholder\":\"請輸入品名\",\"state\":_vm.state.name},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('b-form-group',{attrs:{\"label\":\"價格\",\"label-for\":\"input-price\",\"state\":_vm.state.price,\"description\":\"價格限制為 0 以上\",\"invalid-feedback\":\"價格格式不正確\"}},[_c('b-form-input',{attrs:{\"id\":\"input-price\",\"type\":\"number\",\"required\":\"\",\"placeholder\":\"請輸入價格\",\"state\":_vm.state.price},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", _vm._n($$v))},expression:\"form.price\"}})],1),_c('b-form-group',{attrs:{\"label\":\"說明\",\"label-for\":\"input-description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-description\",\"type\":\"text\",\"placeholder\":\"請輸入說明文字\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('b-form-group',{staticClass:\"d-inline-block\",attrs:{\"label\":\"上架\",\"label-for\":\"input-sell\"}},[_c('b-form-radio',{attrs:{\"value\":true,\"inline\":\"\"},model:{value:(_vm.form.sell),callback:function ($$v) {_vm.$set(_vm.form, \"sell\", $$v)},expression:\"form.sell\"}},[_vm._v(\"上架\")]),_c('b-form-radio',{attrs:{\"value\":false,\"inline\":\"\"},model:{value:(_vm.form.sell),callback:function ($$v) {_vm.$set(_vm.form, \"sell\", $$v)},expression:\"form.sell\"}},[_vm._v(\"下架\")])],1),_c('img-inputer',{attrs:{\"i\":\"\",\"theme\":\"dark\",\"size\":\"large\",\"placeholder\":\"點擊或拖曳選擇圖片\",\"bottom-text\":\"點擊或拖曳以修改\"},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #adminproducts.mt-3\n    b-btn(block variant=\"success\" @click=\"$bvModal.show('modal-product')\").my-3 新增\n    b-table(\n      :items=\"products\"\n      :fields=\"fields\"\n      ref=\"productTable\"\n    )\n      template(#cell(image)=\"data\")\n        img(\n          v-if=\"data.item\"\n          :src=\"data.item.image\"\n          style=\"height: 50px\"\n        )\n      template(#cell(description)=\"data\").w-25\n        | {{ data.item.description }}\n      template(#cell(sell)=\"data\")\n        | {{ data.item.sell ? '√' : '' }}\n      template(#cell(action)=\"data\")\n        b-btn(\n          @click=\"editProduct(data.index)\"\n          variant=\"outline-success\"\n          squared size=\"sm\"\n        ) 編輯\n        //- b-btn(variant=\"danger\" squared size=\"sm\").mx-2 刪除(編輯的下架)\n    b-modal#modal-product(\n      :title=\"form._id.length > 0 ? '編輯商品' : '新增商品'\"\n      ok-variant=\"success\"\n      ok-title=\"送出\"\n      cancel-variant=\"outline-danger\"\n      cancel-title=\"取消\"\n      @ok=\"submitModal\"\n      @hidden=\"resetForm\"\n      :ok-disabled=\"submitDisable\"\n      :cancel-disabled=\"submitDisable\"\n    )\n      //- @hidden= 點到 modal 外會跳出 modal框 就清除全部表格資料\n      //- :ok-disabled :cancel-disabled 送出表單後的按鈕狀態設定\n      //- form._id.length > 0 如果 商品id 長度大於 0 顯示編輯，另外則顯示新增\n      b-form-group(\n        label=\"品名\"\n        label-for=\"input-name\"\n        :state=\"state.name\"\n        description=\"品名長度限制為 1 個字以上\"\n        invalid-feedback=\"品名格式不正確\"\n      )\n        b-form-input#input-name(\n          v-model=\"form.name\"\n          type=\"text\"\n          required\n          placeholder=\"請輸入品名\"\n          :state=\"state.name\"\n        )\n      b-form-group(\n        label=\"價格\"\n        label-for=\"input-price\"\n        :state=\"state.price\"\n        description=\"價格限制為 0 以上\"\n        invalid-feedback=\"價格格式不正確\"\n      )\n        b-form-input#input-price(\n          v-model.number=\"form.price\"\n          type=\"number\"\n          required\n          placeholder=\"請輸入價格\"\n          :state=\"state.price\"\n        )\n      b-form-group(\n        label=\"說明\"\n        label-for=\"input-description\"\n      )\n        b-form-textarea#input-description(\n          v-model=\"form.description\"\n          type=\"text\"\n          placeholder=\"請輸入說明文字\"\n        )\n      b-form-group(\n        label=\"上架\"\n        label-for=\"input-sell\"\n      ).d-inline-block\n        //- b-form-radio-group#radio-slots\n          //- (v-model='selected' :options='options' :aria-describedby='ariaDescribedby' name='radio-options-slots')\n        b-form-radio(v-model=\"form.sell\" :value=\"true\" inline) 上架\n        b-form-radio(v-model=\"form.sell\" :value=\"false\" inline) 下架\n      //- img-inputer 上傳檔案的套件\n      img-inputer(i\n        v-model=\"form.image\"\n        theme=\"dark\" size=\"large\"\n        placeholder=\"點擊或拖曳選擇圖片\"\n        bottom-text=\"點擊或拖曳以修改\")\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      products: [],\n      fields: [\n        { key: 'image', label: '圖片' },\n        { key: 'name', label: '品名' },\n        { key: 'price', label: '價格' },\n        { key: 'description', label: '說明' },\n        { key: 'sell', label: '上架' },\n        { key: 'action', label: '操作' }\n      ],\n      // 送出表單後的按鈕狀態設定\n      submitDisable: false,\n      form: {\n        name: '',\n        price: 0,\n        description: '',\n        sell: false,\n        image: null,\n        _id: ''\n      }\n    }\n  },\n  computed: {\n    state () {\n      return {\n        // name: true 驗證通過\n        name: this.form.name.length === 0 ? null : true,\n        price: this.form.price === 0 ? null : this.form.price > 0\n      }\n    }\n  },\n  methods: {\n    editProduct (index) {\n      // 編輯時，將商品資料填入 modal\n      this.form = {\n        name: this.products[index].name,\n        price: this.products[index].price,\n        description: this.products[index].description,\n        sell: this.products[index].sell,\n        image: this.products[index].image,\n        _id: this.products[index]._id,\n        index\n      }\n      // 點擊按鈕後，將 modal 顯示\n      this.$bvModal.show('modal-product')\n    },\n    resetForm (event) {\n      // preventDefault\n      // 處理 更新商品後即時更新資料\n      if (this.submitDisable) {\n        event.preventDefault()\n        return\n      }\n      this.form = {\n        name: '',\n        price: 0,\n        description: '',\n        sell: false,\n        image: null,\n        _id: ''\n      }\n    },\n    async submitModal () {\n      // 送出表單後 + 資料還在傳送進資料庫時 按鈕狀態設定為不能點擊，避免重複送出\n      this.submitDisable = true\n      try {\n        // FormData 資料類型 可以送出一般文字及檔案\n        // new FormData() 新增一個 FormData 的 資料類型\n        // 前端送出的資料類型 FormData  後端接收資料型態為 multipart/form-data\n        const fd = new FormData()\n        for (const key in this.form) {\n          // .append 將資料放進 FormData\n          // 要傳進的欄位 key → key  / value → this.form[key]\n          fd.append(key, this.form[key])\n        }\n        if (this.form._id.length === 0) {\n          // 新增商品會在 devtool 的 network 新增2筆 product，一筆是傳進後端，一筆是瀏覽器...?\n          // 新增\n          await this.axios.post('/products', fd, {\n            // 驗證身分\n            headers: {\n              authorization: 'Bearer ' + this.$store.state.jwt.token\n            }\n          })\n        } else {\n          // 更新\n          const { data } = await this.axios.patch('/products/' + this.form._id, fd, {\n            headers: {\n              authorization: 'Bearer ' + this.$store.state.jwt.token\n            }\n          })\n          this.products[this.form.index] = {\n            name: this.form.name,\n            price: this.form.price,\n            description: this.form.description,\n            sell: this.form.sell,\n            image: `${process.env.VUE_APP_API}/files/${data.result.image}`,\n            _id: this.form._id\n          }\n          // 強制 Table 重新整理...?\n          this.$refs.productTable.refresh()\n        }\n        // 資料送出後，將 modal 關閉\n        this.$bvModal.hide('modal-product')\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: error.response.data.message\n        })\n      }\n      // 送出表單後 + 資料已傳進資料庫時 按鈕狀態設定為可以點擊\n      this.submitDisable = false\n    }\n  },\n  async mounted () {\n    try {\n      const { data } = await this.axios.get('/products/all', {\n        headers: {\n          authorization: 'Bearer ' + this.$store.state.jwt.token\n        }\n      })\n      this.products = data.result.map(product => {\n        if (product.image) {\n          product.image = `${process.env.VUE_APP_API}/files/${product.image}`\n        }\n        return product\n      })\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: '取得商品失敗'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminProducts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminProducts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminProducts.vue?vue&type=template&id=5071071c&lang=pug&\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"adminHome\"}},[_vm._v(\"管理\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AdminHome.vue?vue&type=template&id=37e63a18&lang=pug&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-3\",attrs:{\"id\":\"adminOrders\"}},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"訂單管理\")]),_c('b-table',{attrs:{\"items\":_vm.orders,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(account)\",fn:function(data){return [_vm._v(_vm._s(data.item.user.account))]}},{key:\"cell(products)\",fn:function(data){return [_c('ul',_vm._l((data.item.products),function(product){return _c('li',[_vm._v(_vm._s(product.product.name)+\" * \"+_vm._s(product.amount))])}),0)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #adminOrders.mt-3\n    h1.text-center 訂單管理\n    b-table(:items=\"orders\" :fields=\"fields\")\n      template(#cell(account)=\"data\")\n        | {{ data.item.user.account }}\n      template(#cell(products)=\"data\")\n        ul\n          li(v-for=\"product in data.item.products\") {{ product.product.name}} * {{ product.amount}}\n</template>\n\n<script>\nexport default {\n  name: 'AdminOrders',\n  data () {\n    return {\n      orders: [],\n      fields: [\n        { key: 'account', label: '使用者' },\n        { key: '_id', label: '訂單編號' },\n        { key: 'date', label: '日期' },\n        { key: 'products', label: '商品' }\n      ]\n    }\n  },\n  async mounted () {\n    try {\n      const { data } = await this.axios.get('/users/orders/all', {\n        headers: {\n          authorization: 'Bearer ' + this.$store.state.jwt.token\n        }\n      })\n      this.orders = data.result.map(order => {\n        order.date = new Date(order.date).toLocaleString()\n        return order\n      })\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: '取得訂單失敗'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrders.vue?vue&type=template&id=2b7ec3b1&lang=pug&\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}