(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{b0c0:function(t,e,r){var a=r("83ab"),n=r("9bf2").f,c=Function.prototype,s=c.toString,o=/^\s*function ([^ (]*)/,i="name";a&&!(i in c)&&n(c,i,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},d2f1:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{id:"product"}},[r("b-overlay",{attrs:{show:!t.sell},scopedSlots:t._u([{key:"overlay",fn:function(){return[r("svg",{staticStyle:{margin:"auto",background:"transparent",display:"block"},attrs:{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[r("defs",[r("clipPath",{attrs:{id:"ldio-tbwc0l1v65-cp"}},[r("rect",{attrs:{x:"0",y:"0",width:"100",height:"82.235"}})])]),r("path",{attrs:{stroke:"#dcdcdc","stroke-width":"1",fill:"#dcdcdc",d:"M85.529 75.177H14.471c-2.469 0-4.471 2.002-4.471 4.471h80C90 77.179 87.998 75.177 85.529 75.177z"}}),r("g",{attrs:{"clip-path":"url(#ldio-tbwc0l1v65-cp)"}},[r("g",[r("animateTransform",{attrs:{attributeName:"transform",type:"translate",repeatCount:"indefinite",dur:"1s",values:"0 0;0 150",keyTimes:"0;1"}}),r("g",{attrs:{transform:"translate(0 -75)"}},[r("path",{attrs:{fill:"#ffb856",d:"M50 25c-13.785 0-25 11.215-25 25s11.215 25 25 25s25-11.216 25-25S63.784 25 50 25z M50 70.845 c-11.494 0-20.844-9.351-20.844-20.845S38.506 29.155 50 29.155S70.845 38.506 70.845 50S61.493 70.845 50 70.845z"}}),r("path",{attrs:{fill:"#ffd55d",d:"M50 29.155c-11.494 0-20.844 9.351-20.844 20.844S38.506 70.845 50 70.845S70.845 61.493 70.845 50S61.493 29.155 50 29.155 z"}}),r("path",{attrs:{fill:"#ffff34",d:"M48.11 62.796v-1.64c-1.535-0.068-3.041-0.358-4.281-0.765c-1.029-0.337-1.611-1.421-1.342-2.469 l0.043-0.167c0.297-1.158 1.521-1.781 2.653-1.395c1.152 0.392 2.465 0.662 3.855 0.662c2.032 0 3.421-0.783 3.421-2.21 c0-1.354-1.14-2.21-3.778-3.101c-3.814-1.283-6.416-3.066-6.416-6.523c0-3.137 2.211-5.596 6.025-6.345v-1.639 c0-0.965 0.782-1.746 1.746-1.746h0c0.965 0 1.746 0.782 1.746 1.746v1.39c1.275 0.057 2.327 0.226 3.21 0.459 c1.107 0.291 1.782 1.404 1.498 2.513v0c-0.287 1.118-1.44 1.803-2.546 1.473c-0.843-0.251-1.887-0.453-3.16-0.453 c-2.317 0-3.066 0.998-3.066 1.997c0 1.176 1.247 1.924 4.277 3.065c4.241 1.498 5.953 3.458 5.953 6.666 c0 3.173-2.246 5.882-6.345 6.594v1.89c0 0.965-0.782 1.746-1.746 1.746h-0.001C48.892 64.543 48.11 63.761 48.11 62.796z"}})])],1)]),r("path",{attrs:{stroke:"#dcdcdc","stroke-width":"1",fill:"#dcdcdc",d:"M14.471 84.823h71.058c2.469 0 4.471-2.002 4.471-4.471v-0.704H10v0.704C10 82.821 12.002 84.823 14.471 84.823z"}})]),r("h1",{staticClass:"text-center"},[t._v("已下架")])]},proxy:!0}])},[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("img",{staticClass:"w-75 m-auto",attrs:{src:t.image}})]),r("b-col",{attrs:{cols:"6"}},[r("h1",{staticClass:"mt-3"},[t._v(t._s(t.name))]),r("h4",{staticClass:"text-right"},[t._v("$"+t._s(t.price))]),r("b-form",{staticClass:"mt-5",attrs:{inline:""}},[r("b-row",[r("b-col",{attrs:{cols:"12",md:"7"}},[r("b-form-input",{attrs:{type:"number",state:t.amountstate},model:{value:t.amount,callback:function(e){t.amount=t._n(e)},expression:"amount"}})],1),r("b-col",{attrs:{cols:"12",md:"5"}},[r("b-btn",{staticClass:"mt-3 mt-md-0",attrs:{variant:"primary"},on:{click:t.addcart}},[t._v("加入購物車")])],1)],1)],1)],1),r("b-col",{attrs:{cols:"12"}},[r("p",{staticClass:"mt-5"},[t._v(t._s(t.description))])])],1)],1)],1)},n=[],c=r("1da1"),s=(r("b0c0"),r("a4d3"),r("e01a"),r("99af"),r("96cf"),{name:"Product",data:function(){return{name:"",price:"",description:"",image:"",sell:!0,amount:0}},computed:{amountstate:function(){return 0===this.amount?null:this.amount>0}},methods:{addcart:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.amountstate){e.next=3;break}return t.$swal({icon:"error",title:"錯誤",text:"請輸入正確數量"}),e.abrupt("return");case 3:if(0!==t.$store.state.jwt.token.length){e.next=6;break}return t.$swal({icon:"error",title:"錯誤",text:"請先登入"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,t.axios.post("/users/cart",{product:t.$route.params.id,amount:t.amount},{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 9:t.$swal({icon:"success",title:"成功",text:"成功購物車"}),t.$router.push("/cart"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),t.$swal({icon:"error",title:"錯誤",text:"加入購物車失敗"});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))()}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/products/"+t.$route.params.id);case 3:r=e.sent,a=r.data,t.name=a.result.name,t.price=a.result.price,t.description=a.result.description,t.image="".concat("https://shoppingeverything.herokuapp.com","/files/").concat(a.result.image),t.sell=a.result.sell,document.title="".concat(t.name," | 商品 | 購物網"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.$router.push("/");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}),o=s,i=r("2877"),l=Object(i["a"])(o,a,n,!1,null,null,null);e["default"]=l.exports},e01a:function(t,e,r){"use strict";var a=r("23e7"),n=r("83ab"),c=r("da84"),s=r("5135"),o=r("861d"),i=r("9bf2").f,l=r("e893"),u=c.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var p={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(p[e]=!0),e};l(d,u);var m=d.prototype=u.prototype;m.constructor=d;var f=m.toString,h="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;i(m,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=f.call(t);if(s(p,t))return"";var r=h?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:d})}}}]);
//# sourceMappingURL=product.fd373f61.js.map